# =============================================================================
# BOSSNYUMBA - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Connection string format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://bossnyumba:bossnyumba_dev@localhost:5432/bossnyumba

# Individual connection params (optional, for flexibility)
POSTGRES_USER=bossnyumba
POSTGRES_PASSWORD=bossnyumba_dev
POSTGRES_DB=bossnyumba
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Neo4j (Canonical Property Graph)
# -----------------------------------------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=bossnyumba_graph_dev
NEO4J_DATABASE=neo4j

# -----------------------------------------------------------------------------
# Redis (Caching & Sessions)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# -----------------------------------------------------------------------------
# Authentication (Clerk - optional)
# -----------------------------------------------------------------------------
# Get from: https://dashboard.clerk.dev
CLERK_SECRET_KEY=
CLERK_PUBLISHABLE_KEY=
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=

# -----------------------------------------------------------------------------
# Payment Providers
# -----------------------------------------------------------------------------

# M-Pesa (Safaricom Daraja API)
# Get from: https://developer.safaricom.co.ke/
MPESA_CONSUMER_KEY=
MPESA_CONSUMER_SECRET=
MPESA_PASSKEY=
MPESA_SHORTCODE=
MPESA_CALLBACK_URL=https://api.yourdomain.com/webhooks/mpesa
MPESA_ENVIRONMENT=sandbox

# Stripe
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Flutterwave
# Get from: https://dashboard.flutterwave.com/settings/apis
FLUTTERWAVE_SECRET_KEY=
FLUTTERWAVE_PUBLIC_KEY=
FLUTTERWAVE_ENCRYPTION_KEY=

# -----------------------------------------------------------------------------
# Notifications
# -----------------------------------------------------------------------------

# Africa's Talking (SMS)
# Get from: https://account.africastalking.com/
AFRICAS_TALKING_API_KEY=
AFRICAS_TALKING_USERNAME=sandbox
AFRICAS_TALKING_SENDER_ID=BOSSNYUMBA

# SendGrid (Email)
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@bossnyumba.com
SENDGRID_FROM_NAME=BOSSNYUMBA

# Firebase (Push Notifications)
# Get from: Firebase Console > Project Settings > Service Accounts
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# -----------------------------------------------------------------------------
# Cloud Storage (AWS S3)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-west-1
AWS_S3_BUCKET=bossnyumba-documents-dev

# Document upload limits
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# -----------------------------------------------------------------------------
# AI / Machine Learning
# -----------------------------------------------------------------------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
API_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000

# Public URLs (for frontends)
NEXT_PUBLIC_API_URL=http://localhost:4000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:4000

# Per-app URLs
ADMIN_PORTAL_URL=http://localhost:3000
OWNER_PORTAL_URL=http://localhost:3001
CUSTOMER_APP_URL=http://localhost:3002
ESTATE_MANAGER_URL=http://localhost:3003

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3003

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Session settings
SESSION_SECRET=your-session-secret-change-in-production
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# Sentry (Error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Datadog (APM)
DD_API_KEY=
DD_SITE=datadoghq.eu

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_AI_FEATURES=false
ENABLE_PAYMENT_PROCESSING=false
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_EMAIL_NOTIFICATIONS=true

# -----------------------------------------------------------------------------
# Development Only
# -----------------------------------------------------------------------------
# Debug settings
DEBUG=bossnyumba:*
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=true

# Hot reload
CHOKIDAR_USEPOLLING=true
